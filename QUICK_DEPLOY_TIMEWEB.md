# üöÄ –ë–´–°–¢–†–´–ô –î–ï–ü–õ–û–ô –ù–ê TIMEWEB CLOUD

## ‚ö° 3 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### üìã –®–ê–ì 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH-–∫–ª—é—á–∞ (–æ–¥–∏–Ω —Ä–∞–∑)

–ù–∞ –≤–∞—à–µ–º Mac –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç SSH –∫–ª—é—á–∞ - —Å–æ–∑–¥–∞–π—Ç–µ
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh-copy-id root@82.97.243.150
```

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–∞—Ä–æ–ª—å –±–æ–ª—å—à–µ –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è!

---

### üöÄ –®–ê–ì 2: –ó–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è

–û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å:

```bash
cd /Users/rex/Documents/cards
./deploy_to_timeweb.sh
```

**–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Python, Nginx, Supervisor)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –∞–¥–º–∏–Ω–∞ (–ª–æ–≥–∏–Ω: `admin`, –ø–∞—Ä–æ–ª—å: `admin123`)
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç–∞ –∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫

‚è±Ô∏è **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 2-3 –º–∏–Ω—É—Ç—ã**

---

### ‚úÖ –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è:

#### üåê –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É:
```
http://82.97.243.150/admin/
–õ–æ–≥–∏–Ω: admin
–ü–∞—Ä–æ–ª—å: admin123
```

#### ü§ñ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–æ—Ç–∞ –≤ Telegram:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `@cardloginbot`
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –î–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å! ‚ú®

---

## üõ†Ô∏è –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞:
```bash
./check_server.sh
```

### –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ (–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π):
```bash
./update_server.sh
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞ (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):
```bash
ssh root@82.97.243.150 'tail -f /var/log/telegram_bot.out.log'
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):
```bash
ssh root@82.97.243.150 'supervisorctl restart telegram_bot'
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):
```bash
ssh root@82.97.243.150 'supervisorctl restart all'
```

---

## üîß –ß–¢–û –ï–°–õ–ò –ß–¢–û-–¢–û –ü–û–®–õ–û –ù–ï –¢–ê–ö?

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ —Å–µ—Ä–≤–µ—Ä
ping 82.97.243.150

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é
ssh root@82.97.243.150
```

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
ssh root@82.97.243.150 'supervisorctl status'

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
ssh root@82.97.243.150 'supervisorctl restart telegram_bot'

# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
ssh root@82.97.243.150 'tail -50 /var/log/telegram_bot.err.log'
```

### –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω–∫–∞:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Django
ssh root@82.97.243.150 'supervisorctl status django_app'

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Nginx
ssh root@82.97.243.150 'systemctl status nginx'
```

---

## üìÇ –°–¢–†–£–ö–¢–£–†–ê –ù–ê –°–ï–†–í–ï–†–ï

```
/opt/cardapp/
‚îú‚îÄ‚îÄ manage.py
‚îú‚îÄ‚îÄ config/
‚îú‚îÄ‚îÄ apps/
‚îú‚îÄ‚îÄ telegram_bot/
‚îú‚îÄ‚îÄ venv/              # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ db.sqlite3         # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ media/             # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ
‚îî‚îÄ‚îÄ staticfiles/       # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

–õ–æ–≥–∏:
/var/log/telegram_bot.out.log    # –õ–æ–≥–∏ –±–æ—Ç–∞
/var/log/telegram_bot.err.log    # –û—à–∏–±–∫–∏ –±–æ—Ç–∞
/var/log/django_app.out.log      # –õ–æ–≥–∏ Django
/var/log/django_app.err.log      # –û—à–∏–±–∫–∏ Django
```

---

## üîÑ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –ü–ï–†–ï–ó–ê–ü–£–°–ö

Supervisor –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏:
- ‚ùå –û—à–∏–±–∫–∞—Ö/–∫—Ä–∞—à–∞—Ö
- üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
- üí• –ó–∞–≤–∏—Å–∞–Ω–∏–∏

---

## üéØ –ì–û–¢–û–í–û!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å:
- ‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7
- ‚úÖ –í–µ–±-–∞–¥–º–∏–Ω–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

–£–¥–∞—á–∏! üöÄ

