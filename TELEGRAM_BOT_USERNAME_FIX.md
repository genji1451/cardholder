# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï USERNAME –ë–û–¢–ê

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–ë–æ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏. –í–º–µ—Å—Ç–æ `t.me/cardloginbot` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å –∏–º—è `your_bot`.

## üîç –ü—Ä–∏—á–∏–Ω–∞

–í —Ñ–∞–π–ª–µ `backend/config/settings.py` –±—ã–ª–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```python
TELEGRAM_BOT_USERNAME = os.getenv("TELEGRAM_BOT_USERNAME", "your_bot")  # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–ò–∑–º–µ–Ω–∏–ª–∏ username –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:

```python
TELEGRAM_BOT_USERNAME = os.getenv("TELEGRAM_BOT_USERNAME", "cardloginbot")  # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
```

---

## üìù –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è username

Username –±–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –º–µ—Å—Ç–∞—Ö:

### 1. **–ú–æ–¥–µ–ª—å `VerifiedCard`** (`models.py`):
```python
def get_bot_link(self, bot_username):
    return f"https://t.me/{bot_username}?start={self.verification_code}"
```

### 2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–æ–≤** (`utils.py`):
```python
bot_link = verified_card.get_bot_link(bot_username)
# –ó–∞—Ç–µ–º –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –≤ QR
```

### 3. **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –±–æ—Ç–∞** (`bot_admin.py`):
```python
bot_link = verified_card.get_bot_link(settings.TELEGRAM_BOT_USERNAME)
# –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

### 4. **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã API** (`serializers.py`):
```python
bot_username = getattr(settings, 'TELEGRAM_BOT_USERNAME', 'your_bot')
return f"https://t.me/{bot_username}?start={obj.verification_code}"
```

### 5. **Django Admin** (`admin.py`):
```python
link = obj.get_bot_link(bot_username)
# –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ —Å—Å—ã–ª–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Å—ã–ª–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ:

1. **–î–æ–±–∞–≤—å—Ç–µ –∫–∞—Ä—Ç—É —á–µ—Ä–µ–∑ –±–æ—Ç–∞**:
   ```
   /admin ‚Üí –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Å—ã–ª–∫—É –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏**:
   ```
   üîó –°—Å—ã–ª–∫–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
   https://t.me/cardloginbot?start=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
   ```
   
   ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å `cardloginbot`, –∞ –Ω–µ `your_bot`

3. **–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥**:
   - QR-–∫–æ–¥ –¥–æ–ª–∂–µ–Ω –≤–µ—Å—Ç–∏ –Ω–∞ `t.me/cardloginbot`

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ Django Admin**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ `/admin/telegram_bot/verifiedcard/`
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–ª–æ–Ω–∫—É "Bot Link"
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Å—ã–ª–∫–∞ —Å `cardloginbot`

---

## üîß –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å username

### –°–ø–æ—Å–æ–± 1: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞–π—Ç–µ/–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
TELEGRAM_BOT_USERNAME=cardloginbot
```

### –°–ø–æ—Å–æ–± 2: –ò–∑–º–µ–Ω–∏—Ç—å –≤ settings.py

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `backend/config/settings.py`:

```python
TELEGRAM_BOT_USERNAME = os.getenv("TELEGRAM_BOT_USERNAME", "cardloginbot")
```

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
ps aux | grep "run_new_bot" | grep -v grep | awk '{print $2}' | xargs kill

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
cd /Users/rex/Documents/cards/backend
source venv/bin/activate
python manage.py run_new_bot &
```

---

## üìä –§–æ—Ä–º–∞—Ç—ã —Å—Å—ã–ª–æ–∫

### –°—Å—ã–ª–∫–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—Ä—Ç—ã:
```
https://t.me/cardloginbot?start={verification_code}
```

**–ü—Ä–∏–º–µ—Ä:**
```
https://t.me/cardloginbot?start=a1b2c3d4-e5f6-7890-abcd-ef1234567890
```

### –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ:
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Telegram
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–∞—Ç —Å –±–æ—Ç–æ–º `@cardloginbot`
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ `/start a1b2c3d4...`
4. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞—Ä—Ç–µ

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### Username –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –Ω–∞—Å—Ç–æ—è—â–∏–º username –±–æ—Ç–∞!

–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å username –±–æ—Ç–∞:

1. **–ß–µ—Ä–µ–∑ BotFather**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather)
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/mybots`
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ username (–±–µ–∑ @)

2. **–ß–µ—Ä–µ–∑ —á–∞—Ç —Å –±–æ—Ç–æ–º**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç —Å –±–æ—Ç–æ–º
   - Username –±—É–¥–µ—Ç –≤ —à–∞–ø–∫–µ: `@cardloginbot`
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–µ–∑ @: `cardloginbot`

3. **–ß–µ—Ä–µ–∑ API**:
   ```bash
   curl https://api.telegram.org/bot<YOUR_TOKEN>/getMe
   ```
   
   –û—Ç–≤–µ—Ç:
   ```json
   {
     "ok": true,
     "result": {
       "id": 123456789,
       "is_bot": true,
       "first_name": "Card Verification Bot",
       "username": "cardloginbot"  // ‚Üê –í–æ—Ç —ç—Ç–æ
     }
   }
   ```

---

## üöÄ –°—Ç–∞—Ç—É—Å

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã:** ‚úÖ –î–∞  
**–ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω:** ‚úÖ –î–∞  
**PID:** 11311  
**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π username:** `cardloginbot`  
**–°—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç:** ‚úÖ –î–∞

---

## üîÑ –ß—Ç–æ –±—É–¥–µ—Ç —Å —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏?

**–•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏:** –í—Å–µ —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π username!

–ü–æ—á–µ–º—É:
- Username –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ú–µ—Ç–æ–¥ `get_bot_link()` –±–µ—Ä–µ—Ç username –∏–∑ `settings.py` –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ
- QR-–∫–æ–¥—ã –≤ –±–∞–∑–µ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ:
- ‚úÖ –°—Ç–∞—Ä—ã–µ QR-–∫–æ–¥—ã –±—É–¥—É—Ç –≤–µ—Å—Ç–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π username
- ‚úÖ –°—Å—ã–ª–∫–∏ –≤ –∞–¥–º–∏–Ω–∫–µ –æ–±–Ω–æ–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ API –±—É–¥–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –Ω–∏—á–µ–≥–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 17 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 2.4  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢

